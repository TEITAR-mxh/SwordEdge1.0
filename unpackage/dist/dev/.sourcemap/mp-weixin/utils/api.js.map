{"version":3,"file":"api.js","sources":["utils/api.js"],"sourcesContent":["/**\n * API 接口定义\n * 所有后端接口统一管理\n */\nimport { get, post, uploadFile } from './request.js'\n\n// ========== 用户认证相关 ==========\nexport const authAPI = {\n  // 登录\n  login: (data) => post('/api/login', data),\n\n  // 注册\n  register: (data) => post('/api/register', data),\n\n  // 登出\n  logout: () => post('/api/logout'),\n\n  // 获取用户信息\n  getUserInfo: () => get('/api/user/info'),\n\n  // 更新用户信息\n  updateUserInfo: (data) => post('/api/user/update', data)\n}\n\n// ========== 训练分析相关 ==========\nexport const analysisAPI = {\n  /**\n   * 启动视频分析任务\n   * @param {String} filePath - 视频文件路径\n   * @param {Object} formData - 额外表单数据\n   * @param {Function} onProgress - 上传进度回调\n   */\n  startAnalysis: (filePath, formData = {}, onProgress) => {\n    return uploadFile('/api/start_analysis', filePath, formData, onProgress)\n  },\n\n  /**\n   * 查询分析任务状态\n   * @param {String} sessionId - 任务会话ID\n   */\n  getAnalysisStatus: (sessionId) => {\n    return get(`/api/analysis_status/${sessionId}`)\n  },\n\n  /**\n   * 生成骨架检测视频\n   * @param {String} sessionId - 任务会话ID\n   */\n  generateSkeletonVideo: (sessionId) => {\n    return post('/api/generate_skeleton_video', { session_id: sessionId })\n  },\n\n  /**\n   * 分析单帧图像\n   * @param {String} filePath - 图片文件路径\n   */\n  analyzeFrame: (filePath) => {\n    return uploadFile('/api/analyze_frame', filePath, { name: 'frame' })\n  }\n}\n\n// ========== AI 教练反馈相关 ==========\nexport const coachAPI = {\n  /**\n   * 获取 AI 教练反馈\n   * @param {Object} data - 分析结果数据\n   * @param {String} data.type - 分析类型（如 'fencing', 'posture'）\n   * @param {Number} data.score - 综合评分\n   * @param {Object} data.metrics - 详细指标\n   */\n  getFeedback: (data) => {\n    return post('/api/get_coach_feedback', data)\n  }\n}\n\n// ========== 训练记录相关 ==========\nexport const trainingAPI = {\n  // 获取训练记录列表\n  getTrainingList: (params) => get('/api/training/list', params),\n\n  // 获取训练记录详情\n  getTrainingDetail: (id) => get(`/api/training/detail/${id}`),\n\n  // 删除训练记录\n  deleteTraining: (id) => post(`/api/training/delete/${id}`),\n\n  // 获取训练统计数据\n  getTrainingStats: () => get('/api/training/stats')\n}\n\n// ========== 训练计划相关 ==========\nexport const planAPI = {\n  // 获取训练计划列表\n  getPlanList: () => get('/api/plans/list'),\n\n  // 获取计划详情\n  getPlanDetail: (id) => get(`/api/plans/detail/${id}`),\n\n  // 创建自定义计划\n  createPlan: (data) => post('/api/plans/create', data),\n\n  // 更新计划进度\n  updatePlanProgress: (id, data) => post(`/api/plans/progress/${id}`, data)\n}\n\n// ========== 社区相关 ==========\nexport const communityAPI = {\n  // 获取社区动态\n  getFeedList: (params) => get('/api/community/feed', params),\n\n  // 发布动态\n  publishPost: (data) => post('/api/community/publish', data),\n\n  // 点赞\n  likePost: (id) => post(`/api/community/like/${id}`),\n\n  // 评论\n  commentPost: (id, data) => post(`/api/community/comment/${id}`, data)\n}\n\n// ========== 实时监控相关 ==========\nexport const monitorAPI = {\n  // 获取实时监控数据（WebSocket 或轮询）\n  getRealtimeData: () => get('/api/monitor/realtime'),\n\n  // 开始实时监控\n  startMonitor: () => post('/api/monitor/start'),\n\n  // 停止实时监控\n  stopMonitor: () => post('/api/monitor/stop')\n}\n\n// ========== 系统设置相关 ==========\nexport const settingsAPI = {\n  // 获取系统设置\n  getSettings: () => get('/api/settings'),\n\n  // 更新系统设置\n  updateSettings: (data) => post('/api/settings/update', data),\n\n  // 导出数据\n  exportData: () => get('/api/settings/export')\n}\n\n// 统一导出\nexport default {\n  authAPI,\n  analysisAPI,\n  coachAPI,\n  trainingAPI,\n  planAPI,\n  communityAPI,\n  monitorAPI,\n  settingsAPI\n}\n"],"names":["post","get","uploadFile"],"mappings":";;AAOY,MAAC,UAAU;AAAA;AAAA,EAErB,OAAO,CAAC,SAASA,mBAAK,cAAc,IAAI;AAAA;AAAA,EAGxC,UAAU,CAAC,SAASA,mBAAK,iBAAiB,IAAI;AAAA;AAAA,EAG9C,QAAQ,MAAMA,cAAI,KAAC,aAAa;AAAA;AAAA,EAGhC,aAAa,MAAMC,cAAG,IAAC,gBAAgB;AAAA;AAAA,EAGvC,gBAAgB,CAAC,SAASD,mBAAK,oBAAoB,IAAI;AACzD;AAGY,MAAC,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOzB,eAAe,CAAC,UAAU,WAAW,CAAA,GAAI,eAAe;AACtD,WAAOE,cAAU,WAAC,uBAAuB,UAAU,UAAU,UAAU;AAAA,EACxE;AAAA;AAAA;AAAA;AAAA;AAAA,EAMD,mBAAmB,CAAC,cAAc;AAChC,WAAOD,kBAAI,wBAAwB,SAAS,EAAE;AAAA,EAC/C;AAAA;AAAA;AAAA;AAAA;AAAA,EAMD,uBAAuB,CAAC,cAAc;AACpC,WAAOD,cAAI,KAAC,gCAAgC,EAAE,YAAY,UAAS,CAAE;AAAA,EACtE;AAAA;AAAA;AAAA;AAAA;AAAA,EAMD,cAAc,CAAC,aAAa;AAC1B,WAAOE,cAAAA,WAAW,sBAAsB,UAAU,EAAE,MAAM,QAAO,CAAE;AAAA,EACpE;AACH;AAGY,MAAC,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQtB,aAAa,CAAC,SAAS;AACrB,WAAOF,cAAI,KAAC,2BAA2B,IAAI;AAAA,EAC5C;AACH;AAGY,MAAC,cAAc;AAAA;AAAA,EAEzB,iBAAiB,CAAC,WAAWC,kBAAI,sBAAsB,MAAM;AAAA;AAAA,EAG7D,mBAAmB,CAAC,OAAOA,cAAAA,IAAI,wBAAwB,EAAE,EAAE;AAAA;AAAA,EAG3D,gBAAgB,CAAC,OAAOD,cAAAA,KAAK,wBAAwB,EAAE,EAAE;AAAA;AAAA,EAGzD,kBAAkB,MAAMC,cAAG,IAAC,qBAAqB;AACnD;AAGY,MAAC,UAAU;AAAA;AAAA,EAErB,aAAa,MAAMA,cAAG,IAAC,iBAAiB;AAAA;AAAA,EAGxC,eAAe,CAAC,OAAOA,cAAAA,IAAI,qBAAqB,EAAE,EAAE;AAAA;AAAA,EAGpD,YAAY,CAAC,SAASD,mBAAK,qBAAqB,IAAI;AAAA;AAAA,EAGpD,oBAAoB,CAAC,IAAI,SAASA,cAAAA,KAAK,uBAAuB,EAAE,IAAI,IAAI;AAC1E;AAkBY,MAAC,aAAa;AAAA;AAAA,EAExB,iBAAiB,MAAMC,cAAG,IAAC,uBAAuB;AAAA;AAAA,EAGlD,cAAc,MAAMD,cAAI,KAAC,oBAAoB;AAAA;AAAA,EAG7C,aAAa,MAAMA,cAAI,KAAC,mBAAmB;AAC7C;AAGY,MAAC,cAAc;AAAA;AAAA,EAEzB,aAAa,MAAMC,cAAG,IAAC,eAAe;AAAA;AAAA,EAGtC,gBAAgB,CAAC,SAASD,mBAAK,wBAAwB,IAAI;AAAA;AAAA,EAG3D,YAAY,MAAMC,cAAG,IAAC,sBAAsB;AAC9C;;;;;;;;"}