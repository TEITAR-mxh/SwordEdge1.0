{"version":3,"file":"monitor.js","sources":["pages/monitor/monitor.vue","D:/HbuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbW9uaXRvci9tb25pdG9yLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"page-monitor app-background\">\n    <!-- ÊëÑÂÉèÂ§¥È¢ÑËßàÂå∫ -->\n    <view class=\"camera-section\">\n      <camera\n        v-if=\"cameraEnabled\"\n        device-position=\"back\"\n        flash=\"off\"\n        :frame-size=\"frameSize\"\n        class=\"camera-preview\"\n        @error=\"handleCameraError\"\n      >\n        <!-- È™®Êû∂overlayÂè†Âä†Â±Ç -->\n        <canvas\n          v-if=\"showSkeleton\"\n          canvas-id=\"skeletonCanvas\"\n          class=\"skeleton-canvas\"\n        ></canvas>\n      </camera>\n\n      <!-- Áõ∏Êú∫Êú™ÂêØÁî®Êó∂ÊòæÁ§∫ -->\n      <view v-else class=\"camera-placeholder\">\n        <text class=\"placeholder-icon\">üì∑</text>\n        <text class=\"placeholder-text\">ÊëÑÂÉèÂ§¥Êú™ÂêØÁî®</text>\n        <se-button type=\"primary\" text=\"ÂêØÁî®ÊëÑÂÉèÂ§¥\" @click=\"enableCamera\" />\n      </view>\n\n      <!-- Áä∂ÊÄÅÊåáÁ§∫Âô® -->\n      <view class=\"status-bar\">\n        <view class=\"status-item\">\n          <view class=\"status-dot\" :class=\"{ active: isMonitoring }\"></view>\n          <text class=\"status-text\">{{ isMonitoring ? 'ÁõëÊéß‰∏≠' : 'Êú™ÁõëÊéß' }}</text>\n        </view>\n        <view class=\"status-item\">\n          <text class=\"status-fps\">{{ currentFPS }} FPS</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- ÂÆûÊó∂Êï∞ÊçÆÈù¢Êùø -->\n    <view class=\"data-panel\">\n      <!-- ÂÆûÊó∂ËØÑÂàÜ -->\n      <se-card class=\"score-card\" variant=\"primary\">\n        <view class=\"score-container\">\n          <view class=\"score-circle\">\n            <view class=\"score-value\">{{ realtimeScore }}</view>\n            <view class=\"score-label\">ÂÆûÊó∂ËØÑÂàÜ</view>\n          </view>\n          <view class=\"score-trend\">\n            <text class=\"trend-icon\" :class=\"scoreTrend\">\n              {{ scoreTrend === 'up' ? '‚Üë' : scoreTrend === 'down' ? '‚Üì' : '‚àí' }}\n            </text>\n            <text class=\"trend-text\">{{ scoreTrendText }}</text>\n          </view>\n        </view>\n      </se-card>\n\n      <!-- ÂÖ≥ÈîÆÊåáÊ†á -->\n      <view class=\"metrics-grid\">\n        <view\n          v-for=\"metric in keyMetrics\"\n          :key=\"metric.id\"\n          class=\"metric-item\"\n          :class=\"`metric-${metric.status}`\"\n        >\n          <text class=\"metric-icon\">{{ metric.icon }}</text>\n          <view class=\"metric-info\">\n            <text class=\"metric-value\">{{ metric.value }}</text>\n            <text class=\"metric-label\">{{ metric.label }}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- Âä®‰ΩúËØÜÂà´ÁªìÊûú -->\n    <view class=\"recognition-section\">\n      <view class=\"section-header\">\n        <text class=\"section-title\">Âä®‰ΩúËØÜÂà´</text>\n        <text class=\"section-badge\">{{ recognitionCount }}</text>\n      </view>\n\n      <scroll-view scroll-y class=\"recognition-list\">\n        <view\n          v-for=\"action in recognizedActions\"\n          :key=\"action.id\"\n          class=\"action-item\"\n        >\n          <view class=\"action-time\">{{ action.time }}</view>\n          <view class=\"action-name\">{{ action.name }}</view>\n          <view class=\"action-confidence\">\n            <se-progress\n              :percent=\"action.confidence\"\n              :show-info=\"false\"\n              height=\"8rpx\"\n              :type=\"getConfidenceType(action.confidence)\"\n            />\n            <text class=\"confidence-value\">{{ action.confidence }}%</text>\n          </view>\n        </view>\n\n        <!-- Á©∫Áä∂ÊÄÅ -->\n        <view v-if=\"recognizedActions.length === 0\" class=\"empty-recognition\">\n          <text class=\"empty-icon\">üéØ</text>\n          <text class=\"empty-text\">Á≠âÂæÖÂä®‰ΩúËØÜÂà´...</text>\n        </view>\n      </scroll-view>\n    </view>\n\n    <!-- ÊéßÂà∂ÊåâÈíÆ -->\n    <view class=\"control-section safe-area-inset-bottom\">\n      <se-button\n        v-if=\"!isMonitoring\"\n        type=\"success\"\n        size=\"large\"\n        icon=\"play\"\n        text=\"ÂºÄÂßãÁõëÊéß\"\n        block\n        @click=\"startMonitoring\"\n      />\n      <view v-else class=\"control-buttons\">\n        <se-button\n          type=\"danger\"\n          size=\"large\"\n          icon=\"pause\"\n          text=\"ÂÅúÊ≠¢\"\n          @click=\"stopMonitoring\"\n        />\n        <se-button\n          type=\"primary\"\n          size=\"large\"\n          icon=\"camera\"\n          text=\"Êà™Âõæ\"\n          @click=\"captureFrame\"\n        />\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue'\nimport { monitorAPI, analysisAPI } from '@/utils/api.js'\nimport { createWebSocket } from '@/utils/request.js'\nimport { getConfidenceType } from '@/utils/common.js'\nimport SeCard from '@/components/se-card/se-card.vue'\nimport SeButton from '@/components/se-button/se-button.vue'\nimport SeProgress from '@/components/se-progress/se-progress.vue'\n\n// ÊëÑÂÉèÂ§¥Áä∂ÊÄÅ\nconst cameraEnabled = ref(false)\nconst frameSize = ref('medium')\nconst showSkeleton = ref(true)\n\n// ÁõëÊéßÁä∂ÊÄÅ\nconst isMonitoring = ref(false)\nconst currentFPS = ref(0)\nconst realtimeScore = ref(0)\nconst scoreTrend = ref('stable')\nconst scoreTrendText = ref('Á®≥ÂÆö')\n\n// ÂÖ≥ÈîÆÊåáÊ†á\nconst keyMetrics = ref([\n  { id: 1, icon: 'ËßíÂ∫¶', label: 'ÂßøÊÄÅËßíÂ∫¶', value: '0¬∞', status: 'normal' },\n  { id: 2, icon: 'ÈÄüÂ∫¶', label: 'Âá∫ÂâëÈÄüÂ∫¶', value: '0 m/s', status: 'normal' },\n  { id: 3, icon: 'Á≤æÂáÜ', label: 'Á≤æÂáÜÂ∫¶', value: '0%', status: 'normal' },\n  { id: 4, icon: 'ÂäõÈáè', label: 'ÂäõÈáèÊåáÊï∞', value: '0', status: 'normal' }\n])\n\n// Âä®‰ΩúËØÜÂà´\nconst recognitionCount = ref(0)\nconst recognizedActions = ref([])\n\n// WebSocket ËøûÊé•\nlet wsClient = null\n\n// È°µÈù¢Âä†ËΩΩ\nonMounted(() => {\n  requestCameraPermission()\n})\n\n// È°µÈù¢Âç∏ËΩΩ\nonUnmounted(() => {\n  if (isMonitoring.value) {\n    stopMonitoring()\n  }\n  if (wsClient) {\n    wsClient.close()\n  }\n})\n\n// ËØ∑Ê±ÇÊëÑÂÉèÂ§¥ÊùÉÈôê\nconst requestCameraPermission = () => {\n  // #ifdef H5\n  // H5 Âπ≥Âè∞Áõ¥Êé•ÂêØÁî®ÔºåÊµèËßàÂô®‰ºöËá™Âä®ËØ∑Ê±ÇÊùÉÈôê\n  cameraEnabled.value = true\n  // #endif\n\n  // #ifndef H5\n  // App ÂíåÂ∞èÁ®ãÂ∫èÂπ≥Âè∞‰ΩøÁî® authorize\n  if (typeof uni.authorize === 'function') {\n    uni.authorize({\n      scope: 'scope.camera',\n      success: () => {\n        cameraEnabled.value = true\n      },\n      fail: () => {\n        uni.showModal({\n          title: 'ÈúÄË¶ÅÊëÑÂÉèÂ§¥ÊùÉÈôê',\n          content: 'ËØ∑Âú®ËÆæÁΩÆ‰∏≠ÂºÄÂêØÊëÑÂÉèÂ§¥ÊùÉÈôê‰ª•‰ΩøÁî®ÂÆûÊó∂ÁõëÊéßÂäüËÉΩ',\n          confirmText: 'ÂéªËÆæÁΩÆ',\n          success: (res) => {\n            if (res.confirm) {\n              uni.openSetting()\n            }\n          }\n        })\n      }\n    })\n  } else {\n    // ÈôçÁ∫ßÂ§ÑÁêÜ\n    cameraEnabled.value = true\n  }\n  // #endif\n}\n\n// ÂêØÁî®ÊëÑÂÉèÂ§¥\nconst enableCamera = () => {\n  requestCameraPermission()\n}\n\n// ÊëÑÂÉèÂ§¥ÈîôËØØÂ§ÑÁêÜ\nconst handleCameraError = (error) => {\n  console.error('ÊëÑÂÉèÂ§¥ÈîôËØØ:', error)\n  uni.showToast({\n    title: 'ÊëÑÂÉèÂ§¥ÂêØÂä®Â§±Ë¥•',\n    icon: 'none'\n  })\n}\n\n// ÂºÄÂßãÁõëÊéß\nconst startMonitoring = async () => {\n  try {\n    uni.showLoading({ title: 'ÂêØÂä®ÁõëÊéß‰∏≠...' })\n\n    // Ë∞ÉÁî®ÂêéÁ´Ø API ÂêØÂä®ÁõëÊéß\n    await monitorAPI.startMonitor()\n\n    // Âª∫Á´ã WebSocket ËøûÊé•Êé•Êî∂ÂÆûÊó∂Êï∞ÊçÆ\n    wsClient = createWebSocket('/ws/monitor')\n    await wsClient.connect()\n\n    // ÁõëÂê¨ÂÆûÊó∂Êï∞ÊçÆ\n    wsClient.onMessage((data) => {\n      handleRealtimeData(data)\n    })\n\n    isMonitoring.value = true\n    currentFPS.value = 30\n\n    uni.hideLoading()\n    uni.showToast({\n      title: 'ÁõëÊéßÂ∑≤ÂêØÂä®',\n      icon: 'success'\n    })\n\n    // Ê®°ÊãüÊï∞ÊçÆÊõ¥Êñ∞ÔºàÂÆûÈôÖÂ∫îÈÄöËøá WebSocketÔºâ\n    startDataSimulation()\n\n  } catch (error) {\n    console.error('ÂêØÂä®ÁõëÊéßÂ§±Ë¥•:', error)\n    uni.hideLoading()\n    uni.showToast({\n      title: 'ÂêØÂä®Â§±Ë¥•',\n      icon: 'none'\n    })\n  }\n}\n\n// ÂÅúÊ≠¢ÁõëÊéß\nconst stopMonitoring = async () => {\n  try {\n    await monitorAPI.stopMonitor()\n\n    if (wsClient) {\n      wsClient.close()\n    }\n\n    isMonitoring.value = false\n    currentFPS.value = 0\n\n    uni.showToast({\n      title: 'ÁõëÊéßÂ∑≤ÂÅúÊ≠¢',\n      icon: 'success'\n    })\n\n  } catch (error) {\n    console.error('ÂÅúÊ≠¢ÁõëÊéßÂ§±Ë¥•:', error)\n  }\n}\n\n// Â§ÑÁêÜÂÆûÊó∂Êï∞ÊçÆ\nconst handleRealtimeData = (data) => {\n  // Êõ¥Êñ∞ËØÑÂàÜ\n  if (data.score !== undefined) {\n    const oldScore = realtimeScore.value\n    realtimeScore.value = data.score\n\n    // Êõ¥Êñ∞Ë∂ãÂäø\n    if (data.score > oldScore + 2) {\n      scoreTrend.value = 'up'\n      scoreTrendText.value = '‰∏äÂçá'\n    } else if (data.score < oldScore - 2) {\n      scoreTrend.value = 'down'\n      scoreTrendText.value = '‰∏ãÈôç'\n    } else {\n      scoreTrend.value = 'stable'\n      scoreTrendText.value = 'Á®≥ÂÆö'\n    }\n  }\n\n  // Êõ¥Êñ∞ÂÖ≥ÈîÆÊåáÊ†á\n  if (data.metrics) {\n    keyMetrics.value = data.metrics\n  }\n\n  // Êõ¥Êñ∞Âä®‰ΩúËØÜÂà´\n  if (data.action) {\n    recognizedActions.value.unshift({\n      id: Date.now(),\n      time: new Date().toLocaleTimeString(),\n      name: data.action.name,\n      confidence: data.action.confidence\n    })\n\n    // ÈôêÂà∂ÂàóË°®ÈïøÂ∫¶\n    if (recognizedActions.value.length > 20) {\n      recognizedActions.value.pop()\n    }\n\n    recognitionCount.value = recognizedActions.value.length\n  }\n\n  // Êõ¥Êñ∞ FPS\n  if (data.fps) {\n    currentFPS.value = data.fps\n  }\n}\n\n// Êà™ÂõæÂàÜÊûê\nconst captureFrame = () => {\n  const ctx = uni.createCameraContext()\n\n  ctx.takePhoto({\n    quality: 'high',\n    success: async (res) => {\n      try {\n        uni.showLoading({ title: 'ÂàÜÊûê‰∏≠...' })\n\n        // ‰∏ä‰º†Âπ∂ÂàÜÊûêÊà™Âõæ\n        const result = await analysisAPI.analyzeFrame(res.tempImagePath)\n\n        uni.hideLoading()\n\n        // ÊòæÁ§∫ÂàÜÊûêÁªìÊûú\n        uni.showModal({\n          title: 'ÂàÜÊûêÁªìÊûú',\n          content: `ËØÑÂàÜ: ${result.score}\\nÂßøÊÄÅ: ${result.posture}`,\n          showCancel: false\n        })\n\n      } catch (error) {\n        uni.hideLoading()\n        console.error('Êà™ÂõæÂàÜÊûêÂ§±Ë¥•:', error)\n        uni.showToast({\n          title: 'ÂàÜÊûêÂ§±Ë¥•',\n          icon: 'none'\n        })\n      }\n    },\n    fail: (error) => {\n      console.error('Êà™ÂõæÂ§±Ë¥•:', error)\n      uni.showToast({\n        title: 'Êà™ÂõæÂ§±Ë¥•',\n        icon: 'none'\n      })\n    }\n  })\n}\n\n\n\n// Ê®°ÊãüÊï∞ÊçÆÊõ¥Êñ∞ÔºàÂºÄÂèëÈò∂ÊÆµÔºâ\nlet simulationTimer = null\nconst startDataSimulation = () => {\n  simulationTimer = setInterval(() => {\n    // Ê®°ÊãüËØÑÂàÜÂèòÂåñ\n    const delta = Math.floor(Math.random() * 5) - 2\n    realtimeScore.value = Math.max(0, Math.min(100, realtimeScore.value + delta))\n\n    // Ê®°ÊãüÊåáÊ†áÊõ¥Êñ∞\n    keyMetrics.value[0].value = `${Math.floor(Math.random() * 180)}¬∞`\n    keyMetrics.value[1].value = `${(Math.random() * 5).toFixed(1)} m/s`\n    keyMetrics.value[2].value = `${Math.floor(Math.random() * 100)}%`\n    keyMetrics.value[3].value = `${Math.floor(Math.random() * 100)}`\n\n    // ÈöèÊú∫Ê∑ªÂä†Âä®‰ΩúËØÜÂà´\n    if (Math.random() > 0.7) {\n      const actions = ['ÂâçÂà∫', 'ÂêéÊí§', 'Èò≤ÂÆà', 'ËøõÊîª', 'Ê≠•Ê≥ïÁßªÂä®']\n      recognizedActions.value.unshift({\n        id: Date.now(),\n        time: new Date().toLocaleTimeString(),\n        name: actions[Math.floor(Math.random() * actions.length)],\n        confidence: 70 + Math.floor(Math.random() * 30)\n      })\n\n      if (recognizedActions.value.length > 20) {\n        recognizedActions.value.pop()\n      }\n\n      recognitionCount.value = recognizedActions.value.length\n    }\n  }, 2000)\n}\n\n// ÂÅúÊ≠¢Ê®°Êãü\nonUnmounted(() => {\n  if (simulationTimer) {\n    clearInterval(simulationTimer)\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.page-monitor {\n  min-height: 100vh;\n  padding-bottom: env(safe-area-inset-bottom);\n}\n\n/* ÊëÑÂÉèÂ§¥Âå∫Âüü */\n.camera-section {\n  position: relative;\n  width: 100%;\n  height: 500rpx;\n  background: #000000;\n  margin-bottom: 24rpx;\n}\n\n.camera-preview {\n  width: 100%;\n  height: 100%;\n}\n\n.skeleton-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n\n.camera-placeholder {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: rgba(17, 24, 39, 0.9);\n}\n\n.placeholder-icon {\n  font-size: 80rpx;\n  margin-bottom: 16rpx;\n}\n\n.placeholder-text {\n  font-size: 28rpx;\n  color: #94a3b8;\n  margin-bottom: 32rpx;\n}\n\n.status-bar {\n  position: absolute;\n  top: 16rpx;\n  left: 16rpx;\n  right: 16rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.status-item {\n  display: flex;\n  align-items: center;\n  padding: 8rpx 16rpx;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(8px);\n  border-radius: 12rpx;\n}\n\n.status-dot {\n  width: 12rpx;\n  height: 12rpx;\n  border-radius: 50%;\n  background: #ef4444;\n  margin-right: 8rpx;\n\n  &.active {\n    background: #10b981;\n    animation: pulse 2s infinite;\n  }\n}\n\n.status-text {\n  font-size: 22rpx;\n  color: #ffffff;\n}\n\n.status-fps {\n  font-size: 22rpx;\n  color: #ffffff;\n  font-weight: 600;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n/* Êï∞ÊçÆÈù¢Êùø */\n.data-panel {\n  padding: 0 32rpx;\n  margin-bottom: 24rpx;\n}\n\n.score-card {\n  margin-bottom: 16rpx;\n}\n\n.score-container {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.score-circle {\n  text-align: center;\n}\n\n.score-value {\n  font-size: 64rpx;\n  font-weight: 700;\n  color: #3b82f6;\n  line-height: 1;\n  margin-bottom: 8rpx;\n}\n\n.score-label {\n  font-size: 24rpx;\n  color: #94a3b8;\n}\n\n.score-trend {\n  text-align: right;\n}\n\n.trend-icon {\n  font-size: 48rpx;\n  font-weight: 700;\n\n  &.up {\n    color: #10b981;\n  }\n\n  &.down {\n    color: #ef4444;\n  }\n\n  &.stable {\n    color: #94a3b8;\n  }\n}\n\n.trend-text {\n  display: block;\n  font-size: 22rpx;\n  color: #94a3b8;\n  margin-top: 8rpx;\n}\n\n.metrics-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 16rpx;\n}\n\n.metric-item {\n  display: flex;\n  align-items: center;\n  padding: 24rpx;\n  background: rgba(17, 24, 39, 0.8);\n  border: 1px solid rgba(71, 85, 105, 0.2);\n  border-radius: 16rpx;\n\n  &.metric-good {\n    border-color: rgba(16, 185, 129, 0.3);\n  }\n\n  &.metric-warning {\n    border-color: rgba(245, 158, 11, 0.3);\n  }\n\n  &.metric-danger {\n    border-color: rgba(239, 68, 68, 0.3);\n  }\n}\n\n.metric-icon {\n  font-size: 32rpx;\n  margin-right: 16rpx;\n}\n\n.metric-info {\n  flex: 1;\n}\n\n.metric-value {\n  display: block;\n  font-size: 28rpx;\n  font-weight: 700;\n  color: #e2e8f0;\n  margin-bottom: 4rpx;\n}\n\n.metric-label {\n  display: block;\n  font-size: 20rpx;\n  color: #64748b;\n}\n\n/* Âä®‰ΩúËØÜÂà´ */\n.recognition-section {\n  padding: 0 32rpx;\n  margin-bottom: 120rpx;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16rpx;\n}\n\n.section-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #e2e8f0;\n}\n\n.section-badge {\n  font-size: 22rpx;\n  color: #ffffff;\n  background: #3b82f6;\n  padding: 4rpx 12rpx;\n  border-radius: 8rpx;\n}\n\n.recognition-list {\n  max-height: 400rpx;\n}\n\n.action-item {\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n  padding: 16rpx;\n  background: rgba(17, 24, 39, 0.8);\n  border: 1px solid rgba(71, 85, 105, 0.2);\n  border-radius: 12rpx;\n  margin-bottom: 12rpx;\n}\n\n.action-time {\n  font-size: 20rpx;\n  color: #64748b;\n  min-width: 100rpx;\n}\n\n.action-name {\n  flex: 1;\n  font-size: 26rpx;\n  font-weight: 600;\n  color: #e2e8f0;\n}\n\n.action-confidence {\n  min-width: 120rpx;\n  text-align: right;\n}\n\n.confidence-value {\n  display: block;\n  font-size: 20rpx;\n  color: #94a3b8;\n  margin-top: 4rpx;\n}\n\n.empty-recognition {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 80rpx 32rpx;\n}\n\n.empty-icon {\n  font-size: 64rpx;\n  margin-bottom: 16rpx;\n}\n\n.empty-text {\n  font-size: 24rpx;\n  color: #64748b;\n}\n\n/* ÊéßÂà∂ÊåâÈíÆ */\n.control-section {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 24rpx 32rpx;\n  background: rgba(15, 23, 42, 0.95);\n  backdrop-filter: blur(12px);\n  border-top: 1px solid rgba(71, 85, 105, 0.2);\n}\n\n.control-buttons {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 16rpx;\n}\n</style>\n","import MiniProgramPage from 'E:/SwordEdge1.0/SwordEdge1.0/pages/monitor/monitor.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","onUnmounted","uni","monitorAPI","createWebSocket","analysisAPI"],"mappings":"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"}